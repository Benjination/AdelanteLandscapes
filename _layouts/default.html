<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>{% if page.title %}{{ page.title | escape }} - {% endif %}{{ site.title | escape }}</title>
  <meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/dark-theme.css">
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
  <header class="site-header">
    <nav class="navbar">
      <div class="container">
        <div class="navbar-brand">
          <a href="{{ site.baseurl }}/">
            <img src="{{ site.baseurl }}/assets/images/Logo.jpg" alt="{{ site.title }}" class="logo">
            <span class="site-title">{{ site.title }}</span>
          </a>
        </div>
        
        <!-- Mobile hamburger button -->
        <button class="navbar-toggle" type="button" onclick="toggleMobileMenu()">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
        <!-- Navigation menu -->
        <div class="navbar-menu" id="navbar-menu">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a href="{{ site.baseurl }}/" class="nav-link {% if page.url == '/' %}active{% endif %}">Home</a>
            </li>
            <li class="nav-item">
              <a href="{{ site.baseurl }}/services/" class="nav-link {% if page.url contains 'services' %}active{% endif %}">Services</a>
            </li>
            <li class="nav-item">
              <a href="{{ site.baseurl }}/consultation/" class="nav-link {% if page.url contains 'consultation' %}active{% endif %}">Consultation</a>
            </li>
            <li class="nav-item">
              <a href="{{ site.baseurl }}/portfolio/" class="nav-link {% if page.url contains 'portfolio' %}active{% endif %}">Portfolio</a>
            </li>
            <li class="nav-item">
              <a href="{{ site.baseurl }}/about/" class="nav-link {% if page.url contains 'about' %}active{% endif %}">About</a>
            </li>
            <li class="nav-item">
              <a href="{{ site.baseurl }}/blog/" class="nav-link {% if page.url contains 'blog' %}active{% endif %}">Blog</a>
            </li>
            <li class="nav-item">
              <a href="{{ site.baseurl }}/contact/" class="nav-link {% if page.url contains 'contact' %}active{% endif %}">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main class="page-content" aria-label="Content">
    {{ content }}
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Contact Info</h3>
          <p>📧 {{ site.email }}</p>
          <p>📞 (682)225-3486</p>
          <p>📍 North Texas</p>
        </div>
        <div class="footer-section">
          <h3>Services</h3>
          <ul>
            <li><a href="{{ '/services/' | relative_url }}">Edible Landscaping</a></li>
            <li><a href="{{ '/services/' | relative_url }}">Sustainable Design</a></li>
            <li><a href="{{ '/services/' | relative_url }}">Naturalistic Gardens</a></li>
            <li><a href="{{ '/services/' | relative_url }}">Modern Landscapes</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="{{ '/portfolio/' | relative_url }}">Portfolio</a></li>
            <li><a href="{{ '/blog/' | relative_url }}">Blog</a></li>
            <li><a href="{{ '/about/' | relative_url }}">About Cheryl</a></li>
            <li><a href="{{ '/contact/' | relative_url }}">Contact</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Follow Us</h3>
          <div class="social-links">
            <a href="#" aria-label="Facebook">📘</a>
            <a href="#" aria-label="Instagram">📷</a>
            <a href="#" aria-label="LinkedIn">💼</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; {{ 'now' | date: "%Y" }} {{ site.title }}. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Mobile menu toggle function
    function toggleMobileMenu() {
      const navbar = document.getElementById('navbar-menu');
      if (navbar) {
        const isShowing = navbar.classList.contains('show');
        navbar.classList.toggle('show');
        
        // Debug info for testing
        console.log('Menu toggled:', !isShowing ? 'OPEN' : 'CLOSED');
        console.log('Show class present:', navbar.classList.contains('show'));
      } else {
        console.error('navbar-menu element not found!');
      }
    }
    
    // Ensure the toggle works
    document.addEventListener('DOMContentLoaded', function() {
      const toggle = document.querySelector('.navbar-toggle');
      const navbar = document.getElementById('navbar-menu');
      
      console.log('DOM loaded - Toggle button:', toggle);
      console.log('DOM loaded - Navbar:', navbar);
      
      // Make sure the hamburger button is visible for testing
      if (toggle) {
        toggle.style.display = 'flex';
        toggle.style.position = 'relative';
        toggle.style.zIndex = '9999';
      }
      
      // Close mobile menu when clicking on nav links
      const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
      navLinks.forEach(link => {
        link.addEventListener('click', () => {
          if (navbar) {
            navbar.classList.remove('show');
            console.log('Menu closed via nav link click');
          }
        });
      });
    });
  </script>
</body>
</html>
